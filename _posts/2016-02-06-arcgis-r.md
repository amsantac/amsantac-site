---
layout: post
title:  "R-ArcGIS: Testing the ArcGIS interface for R"
date:   2016-02-06 11:02:52
categories: blog en
tags: R RemoteSensing landsat QGIS GIS
image: 2015-11-28-classification-r-mini.jpg
published: false
---

The goal of this post is to demonstrate the ability of R to classify multispectral imagery using [RandomForests algorithms]. RandomForests are currently one of the top performing algorithms for data classification and regression. Although their interpretability may be difficult, RandomForests are widely popular because of their ability to classify large amounts of data with high accuracy.

In the sections below I show how to import into R a Landsat image and how to extract pixel data to train and fit a RandomForests model. I also explain how to speed up image classification through parallel processing. Finally I demonstrate how to implement this R-based RandomForests algorithms for image classification in [QGIS].

<!--more-->

<img src="/images/2015-11-28-classification-r-fig-0.png" alt="" title="" style="width:750px">

<br>
### **Loading the data in R**

For most users, the easiest way to install is using the installation toolbox which will install and configure the bridge for ArcGIS 10.3.1+ and Pro 1.1+.

Prerequisites
- ArcGIS 10.3.1 or ArcGIS Pro 1.1 
- R Statistical Computing Software, 3.1.0 or later
- A connection to the internet


Option 1: Download Zip from https://github.com/R-ArcGIS/r-bridge-install
Unzip

start ArcMap as an administrator, by right clicking the icon, selecting "Run as Administrator"
In the Catalog window, navigate to the folder containing the Python Toolbox, R Integration.pyt. Note: You may have to first add a folder connection to the location that you extracted the files or downloaded via GitHub.
Open the toolbox, which should look like this:


Run the Install R bindings script. Right-click the 'Install R bindings' script and select Open... Click 'Ok' in the 'Install R bindings' window. See the message below. Close the window.

You can then test that the bridge is able to see your R installation by running the Print R Version and R Installation Details tools, and running the included sample tools.

The 'arcgisbinding' package is installed in the R environment. You can use RStudio to check the Help Pages of the package to see the functions available.

Executing: InstallBindings false
Start Time: Sun Jan 17 17:39:43 2016
Running script InstallBindings...
Saving URL to 'c:\users\al61ee~1\appdata\local\temp\arc58f2\tmp_plx7l\arcgisbinding_1.0.0.117.zip'
package 'arcgisbinding' successfully unpacked and MD5 sums checked
* installing to library 'C:/Program Files/R/R-3.2.3/library'
R package path: C:\Program Files\R\R-3.2.3\library\arcgisbinding.
ArcGIS 10.3.1 detected. Creating link to package.
Completed script InstallBindings...
Succeeded at Sun Jan 17 17:39:58 2016 (Elapsed Time: 15.13 seconds)


Option 2: clone GitHub repository
you don't need this package to start using R from ArcGIS. You can manually download the package release, install the included arcgisbinding package into your R environment, and you should be good from there

Test

Download Zip (3.33 Mb) from https://github.com/R-ArcGIS/r-bridge. 


In a future post I'll write about. Stay tuned!

<br>
<br>
**You may also be interested in:**

&#42; [Integrating QGIS and R: A stratified sampling example]

&#42; [Prepare files for production of reflectance imagery in CLASlite using R]

<a id="comments"></a>

[RandomForests algorithms]:              https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm
[in a previous post in my blog]:         /blog/en/2015/10/03/reflectance-R.html
[Prepare files for production of reflectance imagery in CLASlite using R]:         /blog/en/2015/10/03/reflectance-R.html
['raster' package]:                      http://cran.r-project.org/package=raster
[QGIS]:                                  http://www.qgis.org/
[in my previous post]:                   /blog/en/2015/10/31/qgis-r.html
[Integrating QGIS and R: A stratified sampling example]:       /blog/en/2015/10/31/qgis-r.html 
[R Script for RandomForests classification in QGIS]:  https://gist.github.com/amsantac/5183c0c71a8dcbc27a4f
[Semi-Automatic Classification Plugin]:  http://fromgistors.blogspot.com/
[RStoolbox]:                             http://bleutner.github.io/RStoolbox/
['caret' package website]:               http://topepo.github.io/caret/index.html
[GRASS GIS plugin]:                      https://docs.qgis.org/2.8/en/docs/user_manual/grass_integration/grass_integration.html
[Orfeo Toolbox]:                         https://www.orfeo-toolbox.org/



