---
layout: post
title:  "Web mapping with Leaflet and R"
date:   2015-08-11 11:02:52
categories: blog leaflet R
---

[Leaflet] is a JavaScript library that has become quite popular for creating interactive maps. In this post I explain how to create a Leaflet map that shows (e.g., a shapefile).  Quisque erat. Vestibulum pellentesque,

The guys from [RStudio] have developed an R package called [leaflet] which allows controlling and integrating Leaflet maps in the R environment.

 

First you need to install the leaflet package in R:

```
install.packages("leaflet")
```
<br>
<pre class="prettyprint">
install.packages("leaflet")
class Voila {
public:
  // Voila
  static const string VOILA = "Voila";
  // will not interfere with embedded <a href="#voila2">tags</a>.
}
</pre>

# using the leaflet package from RStudio
library(raster)
library(leaflet)
setwd("C:/amsantac/other/temp/borrar")

llanos <- shapefile("C:/amsantac/PhD/Research/dissertation/data/shps/llanos_latlon_col_v3.shp")

## map_llanos.html
leaflet(data = llanos) %>% addTiles() %>%   addPolygons(fill = FALSE, stroke = TRUE, color = "#03F") %>% 
  addLegend("bottomright", colors = "#03F", labels = "Llanos ecoregion")

## landsat_scenes.html
llanos_wrs2 <- shapefile("C:/amsantac/PhD/Research/dissertation/data/landsat/wrs grids/llanos_wrs2_desc.shp")

leaflet() %>% addTiles() %>%   
  addPolygons(data = llanos, fill = FALSE, stroke = TRUE, color = "#03F", group = "Study area") %>% 
  addPolygons(data = llanos_wrs2, fill = TRUE, stroke = TRUE, color = "#f93", 
              popup = paste0("Scene: ", as.character(llanos_wrs2$PATH_ROW)), group = "Landsat scenes") %>% 

  # legend
  addLegend("bottomright", colors = c("#03F", "#f93"), labels = c("Study area", "Landsat scenes (path - row)")) %>%   
  
  # layers control
  addLayersControl(
    overlayGroups = c("Study area", "Landsat scenes"),
    options = layersControlOptions(collapsed = FALSE)
  )

## Finally export the map as html in RStudio. Click the 'Export' button and then click 'Save as Web page...'

You can see an example of a map created with leaflet in this [link]. You can also embed 

[Leaflet]:    http://leafletjs.com/
[RStudio]:    https://www.rstudio.com/
[leaflet]:    https://rstudio.github.io/leaflet/
[R language]: http://r-project.org
[link]:       http://amsantac.github.io/cuproject/www/map_llanos.html

